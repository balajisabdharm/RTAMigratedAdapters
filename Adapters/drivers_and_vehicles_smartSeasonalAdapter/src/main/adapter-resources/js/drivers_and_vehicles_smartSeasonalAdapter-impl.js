var username_tibco = "%#credentials!#!username_tibco#%";
var password_tibco = "%#credentials!#!password_tibco#%";
var parkingCodes=[
              	{
            		"PlateColor": "3",
            		"PlateType": "20",
            		"PlateSource": "4",
            		"RTA_plate_CODE": "41",
            		"RTA_CATegory": "1",
            		"RTA_PLATE_SOURCE": "4"
            	},
            	{
            		"PlateColor": "15",
            		"PlateType": "1",
            		"PlateSource": "4",
            		"RTA_plate_CODE": "42",
            		"RTA_CATegory": "2",
            		"RTA_PLATE_SOURCE": "4"
            	},
            	{
            		"PlateColor": "16",
            		"PlateType": "1",
            		"PlateSource": "4",
            		"RTA_plate_CODE": "43",
            		"RTA_CATegory": "2",
            		"RTA_PLATE_SOURCE": "4"
            	},
            	{
            		"PlateColor": "17",
            		"PlateType": "1",
            		"PlateSource": "4",
            		"RTA_plate_CODE": "144",
            		"RTA_CATegory": "2",
            		"RTA_PLATE_SOURCE": "4"
            	},
            	{
            		"PlateColor": "18",
            		"PlateType": "1",
            		"PlateSource": "4",
            		"RTA_plate_CODE": "176",
            		"RTA_CATegory": "2",
            		"RTA_PLATE_SOURCE": "4"
            	},
            	{
            		"PlateColor": "19",
            		"PlateType": "1",
            		"PlateSource": "4",
            		"RTA_plate_CODE": "177",
            		"RTA_CATegory": "2",
            		"RTA_PLATE_SOURCE": "4"
            	},
            	{
            		"PlateColor": "21",
            		"PlateType": "1",
            		"PlateSource": "4",
            		"RTA_plate_CODE": "703",
            		"RTA_CATegory": "2",
            		"RTA_PLATE_SOURCE": "4"
            	},
            	{
            		"PlateColor": "4",
            		"PlateType": "15/2",
            		"PlateSource": "4",
            		"RTA_plate_CODE": "45",
            		"RTA_CATegory": "4",
            		"RTA_PLATE_SOURCE": "4"
            	},
            	{
            		"PlateColor": "1",
            		"PlateType": "3",
            		"PlateSource": "4",
            		"RTA_plate_CODE": "46",
            		"RTA_CATegory": "5",
            		"RTA_PLATE_SOURCE": "4"
            	},
            	{
            		"PlateColor": "2",
            		"PlateType": "7",
            		"PlateSource": "4",
            		"RTA_plate_CODE": "47",
            		"RTA_CATegory": "6",
            		"RTA_PLATE_SOURCE": "4"
            	},
            	{
            		"PlateColor": "1",
            		"PlateType": "20",
            		"PlateSource": "1",
            		"RTA_plate_CODE": "114",
            		"RTA_CATegory": "1",
            		"RTA_PLATE_SOURCE": "1"
            	},
            	{
            		"PlateColor": "3",
            		"PlateType": "20",
            		"PlateSource": "1",
            		"RTA_plate_CODE": "19",
            		"RTA_CATegory": "1",
            		"RTA_PLATE_SOURCE": "1"
            	},
            	{
            		"PlateColor": "46",
            		"PlateType": "1",
            		"PlateSource": "1",
            		"RTA_plate_CODE": "699",
            		"RTA_CATegory": "2",
            		"RTA_PLATE_SOURCE": "1"
            	},
            	{
            		"PlateColor": "55",
            		"PlateType": "1",
            		"PlateSource": "1",
            		"RTA_plate_CODE": "110",
            		"RTA_CATegory": "2",
            		"RTA_PLATE_SOURCE": "1"
            	},
            	{
            		"PlateColor": "56",
            		"PlateType": "1",
            		"PlateSource": "1",
            		"RTA_plate_CODE": "135",
            		"RTA_CATegory": "2",
            		"RTA_PLATE_SOURCE": "1"
            	},
            	{
            		"PlateColor": "57",
            		"PlateType": "1",
            		"PlateSource": "1",
            		"RTA_plate_CODE": "141",
            		"RTA_CATegory": "2",
            		"RTA_PLATE_SOURCE": "1"
            	},
            	{
            		"PlateColor": "58",
            		"PlateType": "1",
            		"PlateSource": "1",
            		"RTA_plate_CODE": "169",
            		"RTA_CATegory": "2",
            		"RTA_PLATE_SOURCE": "1"
            	},
            	{
            		"PlateColor": "59",
            		"PlateType": "1",
            		"PlateSource": "1",
            		"RTA_plate_CODE": "674",
            		"RTA_CATegory": "2",
            		"RTA_PLATE_SOURCE": "1"
            	},
            	{
            		"PlateColor": "66",
            		"PlateType": "1",
            		"PlateSource": "1",
            		"RTA_plate_CODE": "679",
            		"RTA_CATegory": "2",
            		"RTA_PLATE_SOURCE": "1"
            	},
            	{
            		"PlateColor": "67",
            		"PlateType": "1",
            		"PlateSource": "1",
            		"RTA_plate_CODE": "173",
            		"RTA_CATegory": "2",
            		"RTA_PLATE_SOURCE": "1"
            	},
            	{
            		"PlateColor": "68",
            		"PlateType": "1",
            		"PlateSource": "1",
            		"RTA_plate_CODE": "693",
            		"RTA_CATegory": "2",
            		"RTA_PLATE_SOURCE": "1"
            	},
            	{
            		"PlateColor": "166",
            		"PlateType": "1",
            		"PlateSource": "1",
            		"RTA_plate_CODE": "696",
            		"RTA_CATegory": "2",
            		"RTA_PLATE_SOURCE": "1"
            	},
            	{
            		"PlateColor": "49",
            		"PlateType": "1",
            		"PlateSource": "1",
            		"RTA_plate_CODE": "137",
            		"RTA_CATegory": "2",
            		"RTA_PLATE_SOURCE": "1"
            	},
            	{
            		"PlateColor": "50",
            		"PlateType": "1",
            		"PlateSource": "1",
            		"RTA_plate_CODE": "72",
            		"RTA_CATegory": "2",
            		"RTA_PLATE_SOURCE": "1"
            	},
            	{
            		"PlateColor": "51",
            		"PlateType": "1",
            		"PlateSource": "1",
            		"RTA_plate_CODE": "81",
            		"RTA_CATegory": "2",
            		"RTA_PLATE_SOURCE": "1"
            	},
            	{
            		"PlateColor": "52",
            		"PlateType": "1",
            		"PlateSource": "1",
            		"RTA_plate_CODE": "138",
            		"RTA_CATegory": "2",
            		"RTA_PLATE_SOURCE": "1"
            	},
            	{
            		"PlateColor": "53",
            		"PlateType": "1",
            		"PlateSource": "1",
            		"RTA_plate_CODE": "139",
            		"RTA_CATegory": "2",
            		"RTA_PLATE_SOURCE": "1"
            	},
            	{
            		"PlateColor": "54",
            		"PlateType": "1",
            		"PlateSource": "1",
            		"RTA_plate_CODE": "140",
            		"RTA_CATegory": "2",
            		"RTA_PLATE_SOURCE": "1"
            	},
            	{
            		"PlateColor": "2",
            		"PlateType": "1",
            		"PlateSource": "1",
            		"RTA_plate_CODE": "21",
            		"RTA_CATegory": "2",
            		"RTA_PLATE_SOURCE": "1"
            	},
            	{
            		"PlateColor": "9",
            		"PlateType": "1",
            		"PlateSource": "1",
            		"RTA_plate_CODE": "23",
            		"RTA_CATegory": "2",
            		"RTA_PLATE_SOURCE": "1"
            	},
            	{
            		"PlateColor": "4",
            		"PlateType": "1",
            		"PlateSource": "1",
            		"RTA_plate_CODE": "22",
            		"RTA_CATegory": "2",
            		"RTA_PLATE_SOURCE": "1"
            	},
            	{
            		"PlateColor": "1",
            		"PlateType": "1",
            		"PlateSource": "1",
            		"RTA_plate_CODE": "20",
            		"RTA_CATegory": "2",
            		"RTA_PLATE_SOURCE": "1"
            	},
            	{
            		"PlateColor": "7",
            		"PlateType": "16",
            		"PlateSource": "1",
            		"RTA_plate_CODE": "94",
            		"RTA_CATegory": "3",
            		"RTA_PLATE_SOURCE": "1"
            	},
            	{
            		"PlateColor": "4",
            		"PlateType": "15",
            		"PlateSource": "1",
            		"RTA_plate_CODE": "25",
            		"RTA_CATegory": "4",
            		"RTA_PLATE_SOURCE": "1"
            	},
            	{
            		"PlateColor": "46",
            		"PlateType": "15",
            		"PlateSource": "1",
            		"RTA_plate_CODE": "142",
            		"RTA_CATegory": "4",
            		"RTA_PLATE_SOURCE": "1"
            	},
            	{
            		"PlateColor": "2",
            		"PlateType": "18",
            		"PlateSource": "1",
            		"RTA_plate_CODE": "26",
            		"RTA_CATegory": "5",
            		"RTA_PLATE_SOURCE": "1"
            	},
            	{
            		"PlateColor": "2",
            		"PlateType": "19",
            		"PlateSource": "1",
            		"RTA_plate_CODE": "167",
            		"RTA_CATegory": "5",
            		"RTA_PLATE_SOURCE": "1"
            	},
            	{
            		"PlateColor": "46",
            		"PlateType": "1",
            		"PlateSource": "1",
            		"RTA_plate_CODE": "680",
            		"RTA_CATegory": "6",
            		"RTA_PLATE_SOURCE": "1"
            	},
            	{
            		"PlateColor": "2",
            		"PlateType": "7",
            		"PlateSource": "1",
            		"RTA_plate_CODE": "27",
            		"RTA_CATegory": "6",
            		"RTA_PLATE_SOURCE": "1"
            	},
            	{
            		"PlateColor": "",
            		"PlateType": "",
            		"PlateSource": "",
            		"RTA_plate_CODE": "28",
            		"RTA_CATegory": "7",
            		"RTA_PLATE_SOURCE": "1"
            	},
            	{
            		"PlateColor": "10",
            		"PlateType": "10",
            		"PlateSource": "1",
            		"RTA_plate_CODE": "29",
            		"RTA_CATegory": "8",
            		"RTA_PLATE_SOURCE": "1"
            	},
            	{
            		"PlateColor": "11",
            		"PlateType": "12",
            		"PlateSource": "1",
            		"RTA_plate_CODE": "30",
            		"RTA_CATegory": "9",
            		"RTA_PLATE_SOURCE": "1"
            	},
            	{
            		"PlateColor": "13",
            		"PlateType": "9",
            		"PlateSource": "1",
            		"RTA_plate_CODE": "31",
            		"RTA_CATegory": "10",
            		"RTA_PLATE_SOURCE": "1"
            	},
            	{
            		"PlateColor": "",
            		"PlateType": "",
            		"PlateSource": "",
            		"RTA_plate_CODE": "32",
            		"RTA_CATegory": "11",
            		"RTA_PLATE_SOURCE": "1"
            	},
            	{
            		"PlateColor": "3",
            		"PlateType": "3",
            		"PlateSource": "1",
            		"RTA_plate_CODE": "112",
            		"RTA_CATegory": "13",
            		"RTA_PLATE_SOURCE": "1"
            	},
            	{
            		"PlateColor": "3",
            		"PlateType": "18",
            		"PlateSource": "1",
            		"RTA_plate_CODE": "113",
            		"RTA_CATegory": "14",
            		"RTA_PLATE_SOURCE": "1"
            	},
            	{
            		"PlateColor": "6",
            		"PlateType": "23",
            		"PlateSource": "1",
            		"RTA_plate_CODE": "115",
            		"RTA_CATegory": "15",
            		"RTA_PLATE_SOURCE": "1"
            	},
            	{
            		"PlateColor": "12",
            		"PlateType": "13",
            		"PlateSource": "1",
            		"RTA_plate_CODE": "117",
            		"RTA_CATegory": "16",
            		"RTA_PLATE_SOURCE": "1"
            	},
            	{
            		"PlateColor": "47",
            		"PlateType": "15",
            		"PlateSource": "1",
            		"RTA_plate_CODE": "116",
            		"RTA_CATegory": "17",
            		"RTA_PLATE_SOURCE": "1"
            	},
            	{
            		"PlateColor": "2",
            		"PlateType": "21",
            		"PlateSource": "1",
            		"RTA_plate_CODE": "681",
            		"RTA_CATegory": "18",
            		"RTA_PLATE_SOURCE": "1"
            	},
            	{
            		"PlateColor": "46",
            		"PlateType": "34",
            		"PlateSource": "1",
            		"RTA_plate_CODE": "698",
            		"RTA_CATegory": "19",
            		"RTA_PLATE_SOURCE": "1"
            	},
            	{
            		"PlateColor": "3",
            		"PlateType": "20",
            		"PlateSource": "2",
            		"RTA_plate_CODE": "1",
            		"RTA_CATegory": "1",
            		"RTA_PLATE_SOURCE": "2"
            	},
            	{
            		"PlateColor": "102",
            		"PlateType": "20",
            		"PlateSource": "2",
            		"RTA_plate_CODE": "675",
            		"RTA_CATegory": "1",
            		"RTA_PLATE_SOURCE": "2"
            	},
            	{
            		"PlateColor": "103",
            		"PlateType": "20",
            		"PlateSource": "2",
            		"RTA_plate_CODE": "676",
            		"RTA_CATegory": "1",
            		"RTA_PLATE_SOURCE": "2"
            	},
            	{
            		"PlateColor": "5",
            		"PlateType": "1",
            		"PlateSource": "2",
            		"RTA_plate_CODE": "2",
            		"RTA_CATegory": "2",
            		"RTA_PLATE_SOURCE": "2"
            	},
            	{
            		"PlateColor": "135",
            		"PlateType": "1",
            		"PlateSource": "2",
            		"RTA_plate_CODE": "700",
            		"RTA_CATegory": "2",
            		"RTA_PLATE_SOURCE": "2"
            	},
            	{
            		"PlateColor": "6",
            		"PlateType": "1",
            		"PlateSource": "2",
            		"RTA_plate_CODE": "3",
            		"RTA_CATegory": "2",
            		"RTA_PLATE_SOURCE": "2"
            	},
            	{
            		"PlateColor": "7",
            		"PlateType": "1",
            		"PlateSource": "2",
            		"RTA_plate_CODE": "4",
            		"RTA_CATegory": "2",
            		"RTA_PLATE_SOURCE": "2"
            	},
            	{
            		"PlateColor": "8",
            		"PlateType": "1",
            		"PlateSource": "2",
            		"RTA_plate_CODE": "5",
            		"RTA_CATegory": "2",
            		"RTA_PLATE_SOURCE": "2"
            	},
            	{
            		"PlateColor": "26",
            		"PlateType": "1",
            		"PlateSource": "2",
            		"RTA_plate_CODE": "6",
            		"RTA_CATegory": "2",
            		"RTA_PLATE_SOURCE": "2"
            	},
            	{
            		"PlateColor": "27",
            		"PlateType": "1",
            		"PlateSource": "2",
            		"RTA_plate_CODE": "7",
            		"RTA_CATegory": "2",
            		"RTA_PLATE_SOURCE": "2"
            	},
            	{
            		"PlateColor": "34",
            		"PlateType": "1",
            		"PlateSource": "2",
            		"RTA_plate_CODE": "68",
            		"RTA_CATegory": "2",
            		"RTA_PLATE_SOURCE": "2"
            	},
            	{
            		"PlateColor": "38",
            		"PlateType": "1",
            		"PlateSource": "2",
            		"RTA_plate_CODE": "70",
            		"RTA_CATegory": "2",
            		"RTA_PLATE_SOURCE": "2"
            	},
            	{
            		"PlateColor": "40",
            		"PlateType": "1",
            		"PlateSource": "2",
            		"RTA_plate_CODE": "71",
            		"RTA_CATegory": "2",
            		"RTA_PLATE_SOURCE": "2"
            	},
            	{
            		"PlateColor": "42",
            		"PlateType": "1",
            		"PlateSource": "2",
            		"RTA_plate_CODE": "78",
            		"RTA_CATegory": "2",
            		"RTA_PLATE_SOURCE": "2"
            	},
            	{
            		"PlateColor": "43",
            		"PlateType": "1",
            		"PlateSource": "2",
            		"RTA_plate_CODE": "80",
            		"RTA_CATegory": "2",
            		"RTA_PLATE_SOURCE": "2"
            	},
            	{
            		"PlateColor": "50",
            		"PlateType": "1",
            		"PlateSource": "2",
            		"RTA_plate_CODE": "74",
            		"RTA_CATegory": "2",
            		"RTA_PLATE_SOURCE": "2"
            	},
            	{
            		"PlateColor": "44",
            		"PlateType": "1",
            		"PlateSource": "2",
            		"RTA_plate_CODE": "69",
            		"RTA_CATegory": "2",
            		"RTA_PLATE_SOURCE": "2"
            	},
            	{
            		"PlateColor": "52",
            		"PlateType": "1",
            		"PlateSource": "2",
            		"RTA_plate_CODE": "95",
            		"RTA_CATegory": "2",
            		"RTA_PLATE_SOURCE": "2"
            	},
            	{
            		"PlateColor": "60",
            		"PlateType": "1",
            		"PlateSource": "2",
            		"RTA_plate_CODE": "88",
            		"RTA_CATegory": "2",
            		"RTA_PLATE_SOURCE": "2"
            	},
            	{
            		"PlateColor": "66",
            		"PlateType": "1",
            		"PlateSource": "2",
            		"RTA_plate_CODE": "96",
            		"RTA_CATegory": "2",
            		"RTA_PLATE_SOURCE": "2"
            	},
            	{
            		"PlateColor": "65",
            		"PlateType": "1",
            		"PlateSource": "2",
            		"RTA_plate_CODE": "93",
            		"RTA_CATegory": "2",
            		"RTA_PLATE_SOURCE": "2"
            	},
            	{
            		"PlateColor": "63",
            		"PlateType": "1",
            		"PlateSource": "2",
            		"RTA_plate_CODE": "79",
            		"RTA_CATegory": "2",
            		"RTA_PLATE_SOURCE": "2"
            	},
            	{
            		"PlateColor": "51",
            		"PlateType": "1",
            		"PlateSource": "2",
            		"RTA_plate_CODE": "87",
            		"RTA_CATegory": "2",
            		"RTA_PLATE_SOURCE": "2"
            	},
            	{
            		"PlateColor": "62",
            		"PlateType": "1",
            		"PlateSource": "2",
            		"RTA_plate_CODE": "97",
            		"RTA_CATegory": "2",
            		"RTA_PLATE_SOURCE": "2"
            	},
            	{
            		"PlateColor": "61",
            		"PlateType": "1",
            		"PlateSource": "2",
            		"RTA_plate_CODE": "98",
            		"RTA_CATegory": "2",
            		"RTA_PLATE_SOURCE": "2"
            	},
            	{
            		"PlateColor": "48",
            		"PlateType": "1",
            		"PlateSource": "2",
            		"RTA_plate_CODE": "86",
            		"RTA_CATegory": "2",
            		"RTA_PLATE_SOURCE": "2"
            	},
            	{
            		"PlateColor": "69",
            		"PlateType": "1",
            		"PlateSource": "2",
            		"RTA_plate_CODE": "99",
            		"RTA_CATegory": "2",
            		"RTA_PLATE_SOURCE": "2"
            	},
            	{
            		"PlateColor": "9",
            		"PlateType": "1",
            		"PlateSource": "2",
            		"RTA_plate_CODE": "109",
            		"RTA_CATegory": "2",
            		"RTA_PLATE_SOURCE": "2"
            	},
            	{
            		"PlateColor": "67",
            		"PlateType": "1",
            		"PlateSource": "2",
            		"RTA_plate_CODE": "100",
            		"RTA_CATegory": "2",
            		"RTA_PLATE_SOURCE": "2"
            	},
            	{
            		"PlateColor": "47",
            		"PlateType": "1",
            		"PlateSource": "2",
            		"RTA_plate_CODE": "102",
            		"RTA_CATegory": "2",
            		"RTA_PLATE_SOURCE": "2"
            	},
            	{
            		"PlateColor": "71",
            		"PlateType": "1",
            		"PlateSource": "2",
            		"RTA_plate_CODE": "101",
            		"RTA_CATegory": "2",
            		"RTA_PLATE_SOURCE": "2"
            	},
            	{
            		"PlateColor": "7",
            		"PlateType": "16",
            		"PlateSource": "2",
            		"RTA_plate_CODE": "8",
            		"RTA_CATegory": "3",
            		"RTA_PLATE_SOURCE": "2"
            	},
            	{
            		"PlateColor": "5",
            		"PlateType": "16",
            		"PlateSource": "2",
            		"RTA_plate_CODE": "8",
            		"RTA_CATegory": "3",
            		"RTA_PLATE_SOURCE": "2"
            	},
            	{
            		"PlateColor": "4",
            		"PlateType": "15",
            		"PlateSource": "2",
            		"RTA_plate_CODE": "9",
            		"RTA_CATegory": "4",
            		"RTA_PLATE_SOURCE": "2"
            	},
            	{
            		"PlateColor": "",
            		"PlateType": "",
            		"PlateSource": "",
            		"RTA_plate_CODE": "691",
            		"RTA_CATegory": "4",
            		"RTA_PLATE_SOURCE": "2"
            	},
            	{
            		"PlateColor": "3",
            		"PlateType": "18",
            		"PlateSource": "2",
            		"RTA_plate_CODE": "10",
            		"RTA_CATegory": "5",
            		"RTA_PLATE_SOURCE": "2"
            	},
            	{
            		"PlateColor": "33",
            		"PlateType": "28",
            		"PlateSource": "2",
            		"RTA_plate_CODE": "11",
            		"RTA_CATegory": "6",
            		"RTA_PLATE_SOURCE": "2"
            	},
            	{
            		"PlateColor": "2",
            		"PlateType": "7",
            		"PlateSource": "2",
            		"RTA_plate_CODE": "11",
            		"RTA_CATegory": "6",
            		"RTA_PLATE_SOURCE": "2"
            	},
            	{
            		"PlateColor": "",
            		"PlateType": "",
            		"PlateSource": "",
            		"RTA_plate_CODE": "683",
            		"RTA_CATegory": "6",
            		"RTA_PLATE_SOURCE": "2"
            	},
            	{
            		"PlateColor": "",
            		"PlateType": "",
            		"PlateSource": "",
            		"RTA_plate_CODE": "684",
            		"RTA_CATegory": "6",
            		"RTA_PLATE_SOURCE": "2"
            	},
            	{
            		"PlateColor": "",
            		"PlateType": "",
            		"PlateSource": "",
            		"RTA_plate_CODE": "685",
            		"RTA_CATegory": "6",
            		"RTA_PLATE_SOURCE": "2"
            	},
            	{
            		"PlateColor": "",
            		"PlateType": "",
            		"PlateSource": "",
            		"RTA_plate_CODE": "686",
            		"RTA_CATegory": "6",
            		"RTA_PLATE_SOURCE": "2"
            	},
            	{
            		"PlateColor": "",
            		"PlateType": "",
            		"PlateSource": "",
            		"RTA_plate_CODE": "687",
            		"RTA_CATegory": "6",
            		"RTA_PLATE_SOURCE": "2"
            	},
            	{
            		"PlateColor": "",
            		"PlateType": "",
            		"PlateSource": "",
            		"RTA_plate_CODE": "688",
            		"RTA_CATegory": "6",
            		"RTA_PLATE_SOURCE": "2"
            	},
            	{
            		"PlateColor": "",
            		"PlateType": "",
            		"PlateSource": "",
            		"RTA_plate_CODE": "689",
            		"RTA_CATegory": "6",
            		"RTA_PLATE_SOURCE": "2"
            	},
            	{
            		"PlateColor": "",
            		"PlateType": "",
            		"PlateSource": "",
            		"RTA_plate_CODE": "690",
            		"RTA_CATegory": "6",
            		"RTA_PLATE_SOURCE": "2"
            	},
            	{
            		"PlateColor": "35",
            		"PlateType": "11",
            		"PlateSource": "2",
            		"RTA_plate_CODE": "12",
            		"RTA_CATegory": "7",
            		"RTA_PLATE_SOURCE": "2"
            	},
            	{
            		"PlateColor": "207",
            		"PlateType": "32",
            		"PlateSource": "2",
            		"RTA_plate_CODE": "13",
            		"RTA_CATegory": "8",
            		"RTA_PLATE_SOURCE": "2"
            	},
            	{
            		"PlateColor": "11",
            		"PlateType": "12",
            		"PlateSource": "2",
            		"RTA_plate_CODE": "14",
            		"RTA_CATegory": "9",
            		"RTA_PLATE_SOURCE": "2"
            	},
            	{
            		"PlateColor": "13",
            		"PlateType": "9",
            		"PlateSource": "2",
            		"RTA_plate_CODE": "15",
            		"RTA_CATegory": "10",
            		"RTA_PLATE_SOURCE": "2"
            	},
            	{
            		"PlateColor": "1",
            		"PlateType": "8",
            		"PlateSource": "2",
            		"RTA_plate_CODE": "16",
            		"RTA_CATegory": "11",
            		"RTA_PLATE_SOURCE": "2"
            	},
            	{
            		"PlateColor": "",
            		"PlateType": "",
            		"PlateSource": "",
            		"RTA_plate_CODE": "17",
            		"RTA_CATegory": "12",
            		"RTA_PLATE_SOURCE": "2"
            	},
            	{
            		"PlateColor": "210",
            		"PlateType": "36",
            		"PlateSource": "2",
            		"RTA_plate_CODE": "18",
            		"RTA_CATegory": "13",
            		"RTA_PLATE_SOURCE": "2"
            	},
            	{
            		"PlateColor": "202",
            		"PlateType": "35",
            		"PlateSource": "2",
            		"RTA_plate_CODE": "107",
            		"RTA_CATegory": "14",
            		"RTA_PLATE_SOURCE": "2"
            	},
            	{
            		"PlateColor": "209",
            		"PlateType": "34",
            		"PlateSource": "2",
            		"RTA_plate_CODE": "146",
            		"RTA_CATegory": "15",
            		"RTA_PLATE_SOURCE": "2"
            	},
            	{
            		"PlateColor": "36",
            		"PlateType": "29",
            		"PlateSource": "2",
            		"RTA_plate_CODE": "148",
            		"RTA_CATegory": "16",
            		"RTA_PLATE_SOURCE": "2"
            	},
            	{
            		"PlateColor": "",
            		"PlateType": "",
            		"PlateSource": "2",
            		"RTA_plate_CODE": "136",
            		"RTA_CATegory": "17",
            		"RTA_PLATE_SOURCE": "2"
            	},
            	{
            		"PlateColor": "211",
            		"PlateType": "23",
            		"PlateSource": "2",
            		"RTA_plate_CODE": "147",
            		"RTA_CATegory": "18",
            		"RTA_PLATE_SOURCE": "2"
            	},
            	{
            		"PlateColor": "",
            		"PlateType": "",
            		"PlateSource": "2",
            		"RTA_plate_CODE": "150",
            		"RTA_CATegory": "19",
            		"RTA_PLATE_SOURCE": "2"
            	},
            	{
            		"PlateColor": "200",
            		"PlateType": "33",
            		"PlateSource": "2",
            		"RTA_plate_CODE": "152",
            		"RTA_CATegory": "20",
            		"RTA_PLATE_SOURCE": "2"
            	},
            	{
            		"PlateColor": "",
            		"PlateType": "",
            		"PlateSource": "",
            		"RTA_plate_CODE": "663",
            		"RTA_CATegory": "21",
            		"RTA_PLATE_SOURCE": "2"
            	},
            	{
            		"PlateColor": "",
            		"PlateType": "",
            		"PlateSource": "",
            		"RTA_plate_CODE": "665",
            		"RTA_CATegory": "22",
            		"RTA_PLATE_SOURCE": "2"
            	},
            	{
            		"PlateColor": "",
            		"PlateType": "",
            		"PlateSource": "",
            		"RTA_plate_CODE": "667",
            		"RTA_CATegory": "23",
            		"RTA_PLATE_SOURCE": "2"
            	},
            	{
            		"PlateColor": "",
            		"PlateType": "",
            		"PlateSource": "",
            		"RTA_plate_CODE": "668",
            		"RTA_CATegory": "24",
            		"RTA_PLATE_SOURCE": "2"
            	},
            	{
            		"PlateColor": "",
            		"PlateType": "",
            		"PlateSource": "",
            		"RTA_plate_CODE": "669",
            		"RTA_CATegory": "25",
            		"RTA_PLATE_SOURCE": "2"
            	},
            	{
            		"PlateColor": "",
            		"PlateType": "",
            		"PlateSource": "",
            		"RTA_plate_CODE": "670",
            		"RTA_CATegory": "26",
            		"RTA_PLATE_SOURCE": "2"
            	},
            	{
            		"PlateColor": "",
            		"PlateType": "",
            		"PlateSource": "",
            		"RTA_plate_CODE": "671",
            		"RTA_CATegory": "27",
            		"RTA_PLATE_SOURCE": "2"
            	},
            	{
            		"PlateColor": "3",
            		"PlateType": "20",
            		"PlateSource": "7",
            		"RTA_plate_CODE": "55",
            		"RTA_CATegory": "1",
            		"RTA_PLATE_SOURCE": "7"
            	},
            	{
            		"PlateColor": "15",
            		"PlateType": "1",
            		"PlateSource": "7",
            		"RTA_plate_CODE": "56",
            		"RTA_CATegory": "2",
            		"RTA_PLATE_SOURCE": "7"
            	},
            	{
            		"PlateColor": "16",
            		"PlateType": "1",
            		"PlateSource": "7",
            		"RTA_plate_CODE": "73",
            		"RTA_CATegory": "2",
            		"RTA_PLATE_SOURCE": "7"
            	},
            	{
            		"PlateColor": "17",
            		"PlateType": "1",
            		"PlateSource": "7",
            		"RTA_plate_CODE": "85",
            		"RTA_CATegory": "2",
            		"RTA_PLATE_SOURCE": "7"
            	},
            	{
            		"PlateColor": "18",
            		"PlateType": "1",
            		"PlateSource": "7",
            		"RTA_plate_CODE": "92",
            		"RTA_CATegory": "2",
            		"RTA_PLATE_SOURCE": "7"
            	},
            	{
            		"PlateColor": "19",
            		"PlateType": "1",
            		"PlateSource": "7",
            		"RTA_plate_CODE": "111",
            		"RTA_CATegory": "2",
            		"RTA_PLATE_SOURCE": "7"
            	},
            	{
            		"PlateColor": "20",
            		"PlateType": "1",
            		"PlateSource": "7",
            		"RTA_plate_CODE": "154",
            		"RTA_CATegory": "2",
            		"RTA_PLATE_SOURCE": "7"
            	},
            	{
            		"PlateColor": "22",
            		"PlateType": "1",
            		"PlateSource": "7",
            		"RTA_plate_CODE": "163",
            		"RTA_CATegory": "2",
            		"RTA_PLATE_SOURCE": "7"
            	},
            	{
            		"PlateColor": "25",
            		"PlateType": "1",
            		"PlateSource": "7",
            		"RTA_plate_CODE": "164",
            		"RTA_CATegory": "2",
            		"RTA_PLATE_SOURCE": "7"
            	},
            	{
            		"PlateColor": "29",
            		"PlateType": "1",
            		"PlateSource": "7",
            		"RTA_plate_CODE": "149",
            		"RTA_CATegory": "2",
            		"RTA_PLATE_SOURCE": "7"
            	},
            	{
            		"PlateColor": "82",
            		"PlateType": "1",
            		"PlateSource": "7",
            		"RTA_plate_CODE": "155",
            		"RTA_CATegory": "2",
            		"RTA_PLATE_SOURCE": "7"
            	},
            	{
            		"PlateColor": "84",
            		"PlateType": "1",
            		"PlateSource": "7",
            		"RTA_plate_CODE": "156",
            		"RTA_CATegory": "2",
            		"RTA_PLATE_SOURCE": "7"
            	},
            	{
            		"PlateColor": "146",
            		"PlateType": "1",
            		"PlateSource": "7",
            		"RTA_plate_CODE": "158",
            		"RTA_CATegory": "2",
            		"RTA_PLATE_SOURCE": "7"
            	},
            	{
            		"PlateColor": "23",
            		"PlateType": "1",
            		"PlateSource": "7",
            		"RTA_plate_CODE": "702",
            		"RTA_CATegory": "2",
            		"RTA_PLATE_SOURCE": "7"
            	},
            	{
            		"PlateColor": "85",
            		"PlateType": "1",
            		"PlateSource": "7",
            		"RTA_plate_CODE": "157",
            		"RTA_CATegory": "2",
            		"RTA_PLATE_SOURCE": "7"
            	},
            	{
            		"PlateColor": "26",
            		"PlateType": "1",
            		"PlateSource": "7",
            		"RTA_plate_CODE": "697",
            		"RTA_CATegory": "2",
            		"RTA_PLATE_SOURCE": "7"
            	},
            	{
            		"PlateColor": "3",
            		"PlateType": "1",
            		"PlateSource": "7",
            		"RTA_plate_CODE": "103",
            		"RTA_CATegory": "2",
            		"RTA_PLATE_SOURCE": "7"
            	},
            	{
            		"PlateColor": "4",
            		"PlateType": "15/2",
            		"PlateSource": "7",
            		"RTA_plate_CODE": "58",
            		"RTA_CATegory": "4",
            		"RTA_PLATE_SOURCE": "7"
            	},
            	{
            		"PlateColor": "1",
            		"PlateType": "3",
            		"PlateSource": "7",
            		"RTA_plate_CODE": "59",
            		"RTA_CATegory": "5",
            		"RTA_PLATE_SOURCE": "7"
            	},
            	{
            		"PlateColor": "2",
            		"PlateType": "7",
            		"PlateSource": "7",
            		"RTA_plate_CODE": "60",
            		"RTA_CATegory": "6",
            		"RTA_PLATE_SOURCE": "7"
            	},
            	{
            		"PlateColor": "4",
            		"PlateType": "8",
            		"PlateSource": "7",
            		"RTA_plate_CODE": "128",
            		"RTA_CATegory": "7",
            		"RTA_PLATE_SOURCE": "7"
            	},
            	{
            		"PlateColor": "3",
            		"PlateType": "20",
            		"PlateSource": "6",
            		"RTA_plate_CODE": "61",
            		"RTA_CATegory": "1",
            		"RTA_PLATE_SOURCE": "6"
            	},
            	{
            		"PlateColor": "15",
            		"PlateType": "1",
            		"PlateSource": "6",
            		"RTA_plate_CODE": "104",
            		"RTA_CATegory": "2",
            		"RTA_PLATE_SOURCE": "6"
            	},
            	{
            		"PlateColor": "16",
            		"PlateType": "1",
            		"PlateSource": "6",
            		"RTA_plate_CODE": "174",
            		"RTA_CATegory": "2",
            		"RTA_PLATE_SOURCE": "6"
            	},
            	{
            		"PlateColor": "17",
            		"PlateType": "1",
            		"PlateSource": "6",
            		"RTA_plate_CODE": "82",
            		"RTA_CATegory": "2",
            		"RTA_PLATE_SOURCE": "6"
            	},
            	{
            		"PlateColor": "18",
            		"PlateType": "1",
            		"PlateSource": "6",
            		"RTA_plate_CODE": "105",
            		"RTA_CATegory": "2",
            		"RTA_PLATE_SOURCE": "6"
            	},
            	{
            		"PlateColor": "23",
            		"PlateType": "1",
            		"PlateSource": "6",
            		"RTA_plate_CODE": "91",
            		"RTA_CATegory": "2",
            		"RTA_PLATE_SOURCE": "6"
            	},
            	{
            		"PlateColor": "25",
            		"PlateType": "1",
            		"PlateSource": "6",
            		"RTA_plate_CODE": "161",
            		"RTA_CATegory": "2",
            		"RTA_PLATE_SOURCE": "6"
            	},
            	{
            		"PlateColor": "29",
            		"PlateType": "1",
            		"PlateSource": "6",
            		"RTA_plate_CODE": "126",
            		"RTA_CATegory": "2",
            		"RTA_PLATE_SOURCE": "6"
            	},
            	{
            		"PlateColor": "80",
            		"PlateType": "1",
            		"PlateSource": "6",
            		"RTA_plate_CODE": "151",
            		"RTA_CATegory": "2",
            		"RTA_PLATE_SOURCE": "6"
            	},
            	{
            		"PlateColor": "30",
            		"PlateType": "1",
            		"PlateSource": "6",
            		"RTA_plate_CODE": "63",
            		"RTA_CATegory": "2",
            		"RTA_PLATE_SOURCE": "6"
            	},
            	{
            		"PlateColor": "146",
            		"PlateType": "1",
            		"PlateSource": "6",
            		"RTA_plate_CODE": "162",
            		"RTA_CATegory": "2",
            		"RTA_PLATE_SOURCE": "6"
            	},
            	{
            		"PlateColor": "26",
            		"PlateType": "1",
            		"PlateSource": "6",
            		"RTA_plate_CODE": "106",
            		"RTA_CATegory": "2",
            		"RTA_PLATE_SOURCE": "6"
            	},
            	{
            		"PlateColor": "3",
            		"PlateType": "1",
            		"PlateSource": "6",
            		"RTA_plate_CODE": "62",
            		"RTA_CATegory": "2",
            		"RTA_PLATE_SOURCE": "6"
            	},
            	{
            		"PlateColor": "27",
            		"PlateType": "1",
            		"PlateSource": "6",
            		"RTA_plate_CODE": "90",
            		"RTA_CATegory": "2",
            		"RTA_PLATE_SOURCE": "6"
            	},
            	{
            		"PlateColor": "37",
            		"PlateType": "16",
            		"PlateSource": "6",
            		"RTA_plate_CODE": "127",
            		"RTA_CATegory": "3",
            		"RTA_PLATE_SOURCE": "6"
            	},
            	{
            		"PlateColor": "4",
            		"PlateType": "15/2",
            		"PlateSource": "6",
            		"RTA_plate_CODE": "65",
            		"RTA_CATegory": "4",
            		"RTA_PLATE_SOURCE": "6"
            	},
            	{
            		"PlateColor": "1",
            		"PlateType": "3",
            		"PlateSource": "6",
            		"RTA_plate_CODE": "66",
            		"RTA_CATegory": "5",
            		"RTA_PLATE_SOURCE": "6"
            	},
            	{
            		"PlateColor": "2",
            		"PlateType": "7",
            		"PlateSource": "6",
            		"RTA_plate_CODE": "67",
            		"RTA_CATegory": "6",
            		"RTA_PLATE_SOURCE": "6"
            	},
            	{
            		"PlateColor": "7",
            		"PlateType": "8",
            		"PlateSource": "6",
            		"RTA_plate_CODE": "76",
            		"RTA_CATegory": "11",
            		"RTA_PLATE_SOURCE": "6"
            	},
            	{
            		"PlateColor": "3",
            		"PlateType": "8",
            		"PlateSource": "6",
            		"RTA_plate_CODE": "129",
            		"RTA_CATegory": "11",
            		"RTA_PLATE_SOURCE": "6"
            	},
            	{
            		"PlateColor": "1",
            		"PlateType": "27",
            		"PlateSource": "6",
            		"RTA_plate_CODE": "121",
            		"RTA_CATegory": "12",
            		"RTA_PLATE_SOURCE": "6"
            	},
            	{
            		"PlateColor": "13",
            		"PlateType": "9",
            		"PlateSource": "6",
            		"RTA_plate_CODE": "124",
            		"RTA_CATegory": "13",
            		"RTA_PLATE_SOURCE": "6"
            	},
            	{
            		"PlateColor": "2",
            		"PlateType": "9",
            		"PlateSource": "6",
            		"RTA_plate_CODE": "122",
            		"RTA_CATegory": "13",
            		"RTA_PLATE_SOURCE": "6"
            	},
            	{
            		"PlateColor": "7",
            		"PlateType": "9",
            		"PlateSource": "6",
            		"RTA_plate_CODE": "123",
            		"RTA_CATegory": "13",
            		"RTA_PLATE_SOURCE": "6"
            	},
            	{
            		"PlateColor": "2",
            		"PlateType": "22",
            		"PlateSource": "6",
            		"RTA_plate_CODE": "125",
            		"RTA_CATegory": "14",
            		"RTA_PLATE_SOURCE": "6"
            	},
            	{
            		"PlateColor": "2",
            		"PlateType": "4",
            		"PlateSource": "6",
            		"RTA_plate_CODE": "153",
            		"RTA_CATegory": "15",
            		"RTA_PLATE_SOURCE": "6"
            	},
            	{
            		"PlateColor": "2",
            		"PlateType": "31",
            		"PlateSource": "6",
            		"RTA_plate_CODE": "165",
            		"RTA_CATegory": "16",
            		"RTA_PLATE_SOURCE": "6"
            	},
            	{
            		"PlateColor": "34",
            		"PlateType": "13",
            		"PlateSource": "6",
            		"RTA_plate_CODE": "168",
            		"RTA_CATegory": "17",
            		"RTA_PLATE_SOURCE": "6"
            	},
            	{
            		"PlateColor": "3",
            		"PlateType": "18",
            		"PlateSource": "6",
            		"RTA_plate_CODE": "694",
            		"RTA_CATegory": "18",
            		"RTA_PLATE_SOURCE": "6"
            	},
            	{
            		"PlateColor": "36",
            		"PlateType": "29",
            		"PlateSource": "3",
            		"RTA_plate_CODE": "166",
            		"RTA_CATegory": "1",
            		"RTA_PLATE_SOURCE": "3"
            	},
            	{
            		"PlateColor": "3",
            		"PlateType": "20",
            		"PlateSource": "3",
            		"RTA_plate_CODE": "33",
            		"RTA_CATegory": "1",
            		"RTA_PLATE_SOURCE": "3"
            	},
            	{
            		"PlateColor": "46",
            		"PlateType": "1",
            		"PlateSource": "3",
            		"RTA_plate_CODE": "35",
            		"RTA_CATegory": "2",
            		"RTA_PLATE_SOURCE": "3"
            	},
            	{
            		"PlateColor": "47",
            		"PlateType": "1",
            		"PlateSource": "3",
            		"RTA_plate_CODE": "89",
            		"RTA_CATegory": "2",
            		"RTA_PLATE_SOURCE": "3"
            	},
            	{
            		"PlateColor": "48",
            		"PlateType": "1",
            		"PlateSource": "3",
            		"RTA_plate_CODE": "692",
            		"RTA_CATegory": "2",
            		"RTA_PLATE_SOURCE": "3"
            	},
            	{
            		"PlateColor": "6",
            		"PlateType": "1",
            		"PlateSource": "3",
            		"RTA_plate_CODE": "40",
            		"RTA_CATegory": "2",
            		"RTA_PLATE_SOURCE": "3"
            	},
            	{
            		"PlateColor": "3",
            		"PlateType": "1",
            		"PlateSource": "3",
            		"RTA_plate_CODE": "34",
            		"RTA_CATegory": "2",
            		"RTA_PLATE_SOURCE": "3"
            	},
            	{
            		"PlateColor": "4",
            		"PlateType": "15/2",
            		"PlateSource": "3",
            		"RTA_plate_CODE": "37",
            		"RTA_CATegory": "4",
            		"RTA_PLATE_SOURCE": "3"
            	},
            	{
            		"PlateColor": "3",
            		"PlateType": "18",
            		"PlateSource": "3",
            		"RTA_plate_CODE": "38",
            		"RTA_CATegory": "5",
            		"RTA_PLATE_SOURCE": "3"
            	},
            	{
            		"PlateColor": "46",
            		"PlateType": "7",
            		"PlateSource": "3",
            		"RTA_plate_CODE": "171",
            		"RTA_CATegory": "6",
            		"RTA_PLATE_SOURCE": "3"
            	},
            	{
            		"PlateColor": "2",
            		"PlateType": "7",
            		"PlateSource": "3",
            		"RTA_plate_CODE": "39",
            		"RTA_CATegory": "6",
            		"RTA_PLATE_SOURCE": "3"
            	},
            	{
            		"PlateColor": "47",
            		"PlateType": "7",
            		"PlateSource": "3",
            		"RTA_plate_CODE": "175",
            		"RTA_CATegory": "6",
            		"RTA_PLATE_SOURCE": "3"
            	},
            	{
            		"PlateColor": "48",
            		"PlateType": "7",
            		"PlateSource": "3",
            		"RTA_plate_CODE": "704",
            		"RTA_CATegory": "6",
            		"RTA_PLATE_SOURCE": "3"
            	},
            	{
            		"PlateColor": "32",
            		"PlateType": "4",
            		"PlateSource": "3",
            		"RTA_plate_CODE": "118",
            		"RTA_CATegory": "7",
            		"RTA_PLATE_SOURCE": "3"
            	},
            	{
            		"PlateColor": "36",
            		"PlateType": "29",
            		"PlateSource": "3",
            		"RTA_plate_CODE": "119",
            		"RTA_CATegory": "8",
            		"RTA_PLATE_SOURCE": "3"
            	},
            	{
            		"PlateColor": "3",
            		"PlateType": "20",
            		"PlateSource": "5",
            		"RTA_plate_CODE": "48",
            		"RTA_CATegory": "1",
            		"RTA_PLATE_SOURCE": "5"
            	},
            	{
            		"PlateColor": "15",
            		"PlateType": "1",
            		"PlateSource": "5",
            		"RTA_plate_CODE": "49",
            		"RTA_CATegory": "2",
            		"RTA_PLATE_SOURCE": "5"
            	},
            	{
            		"PlateColor": "16",
            		"PlateType": "1",
            		"PlateSource": "5",
            		"RTA_plate_CODE": "84",
            		"RTA_CATegory": "2",
            		"RTA_PLATE_SOURCE": "5"
            	},
            	{
            		"PlateColor": "17",
            		"PlateType": "1",
            		"PlateSource": "5",
            		"RTA_plate_CODE": "673",
            		"RTA_CATegory": "2",
            		"RTA_PLATE_SOURCE": "5"
            	},
            	{
            		"PlateColor": "18",
            		"PlateType": "1",
            		"PlateSource": "5",
            		"RTA_plate_CODE": "170",
            		"RTA_CATegory": "2",
            		"RTA_PLATE_SOURCE": "5"
            	},
            	{
            		"PlateColor": "22",
            		"PlateType": "1",
            		"PlateSource": "5",
            		"RTA_plate_CODE": "108",
            		"RTA_CATegory": "2",
            		"RTA_PLATE_SOURCE": "5"
            	},
            	{
            		"PlateColor": "21",
            		"PlateType": "1",
            		"PlateSource": "5",
            		"RTA_plate_CODE": "672",
            		"RTA_CATegory": "2",
            		"RTA_PLATE_SOURCE": "5"
            	},
            	{
            		"PlateColor": "23",
            		"PlateType": "1",
            		"PlateSource": "5",
            		"RTA_plate_CODE": "172",
            		"RTA_CATegory": "2",
            		"RTA_PLATE_SOURCE": "5"
            	},
            	{
            		"PlateColor": "3",
            		"PlateType": "1",
            		"PlateSource": "5",
            		"RTA_plate_CODE": "50",
            		"RTA_CATegory": "2",
            		"RTA_PLATE_SOURCE": "5"
            	},
            	{
            		"PlateColor": "89",
            		"PlateType": "1",
            		"PlateSource": "5",
            		"RTA_plate_CODE": "145",
            		"RTA_CATegory": "2",
            		"RTA_PLATE_SOURCE": "5"
            	},
            	{
            		"PlateColor": "19",
            		"PlateType": "1",
            		"PlateSource": "5",
            		"RTA_plate_CODE": "695",
            		"RTA_CATegory": "2",
            		"RTA_PLATE_SOURCE": "5"
            	},
            	{
            		"PlateColor": "20",
            		"PlateType": "1",
            		"PlateSource": "5",
            		"RTA_plate_CODE": "701",
            		"RTA_CATegory": "2",
            		"RTA_PLATE_SOURCE": "5"
            	},
            	{
            		"PlateColor": "4",
            		"PlateType": "15/2",
            		"PlateSource": "5",
            		"RTA_plate_CODE": "52",
            		"RTA_CATegory": "4",
            		"RTA_PLATE_SOURCE": "5"
            	},
            	{
            		"PlateColor": "1",
            		"PlateType": "3",
            		"PlateSource": "5",
            		"RTA_plate_CODE": "53",
            		"RTA_CATegory": "5",
            		"RTA_PLATE_SOURCE": "5"
            	},
            	{
            		"PlateColor": "2",
            		"PlateType": "7",
            		"PlateSource": "5",
            		"RTA_plate_CODE": "54",
            		"RTA_CATegory": "6",
            		"RTA_PLATE_SOURCE": "5"
            	},
            	{
            		"PlateColor": "1",
            		"PlateType": "8",
            		"PlateSource": "5",
            		"RTA_plate_CODE": "75",
            		"RTA_CATegory": "11",
            		"RTA_PLATE_SOURCE": "5"
            	},
            	{
            		"PlateColor": "4",
            		"PlateType": "8",
            		"PlateSource": "5",
            		"RTA_plate_CODE": "120",
            		"RTA_CATegory": "11",
            		"RTA_PLATE_SOURCE": "5"
            	}
            ];
function getParkingCodes (plateItem){
	var resultArray=[];
 resultArray = parkingCodes.filter(function( obj ) 
			{
if(plateItem.emirate == obj.RTA_PLATE_SOURCE && plateItem.plateCategory == obj.RTA_CATegory && plateItem.plateCode == obj.RTA_plate_CODE ){
	return obj;
	
}

			  
			});

if (resultArray.length > 0 )
{ 
	return resultArray;
	
}else{
	return resultArray[{
					"PlateColor": "",
            		"PlateType": "",
            		"PlateSource": "",
            		"RTA_plate_CODE": "",
            		"RTA_CATegory": "",
            		"RTA_PLATE_SOURCE": ""
	}];
}
//
}
function getParkingCodes (plateItem){
	var resultArray=[];
 resultArray = parkingCodes.filter(function( obj ) 
			{
if(plateItem.emirate == obj.RTA_PLATE_SOURCE && plateItem.plateCategory == obj.RTA_CATegory && plateItem.plateCode == obj.RTA_plate_CODE ){
	return obj;
	
}

			  
			});

if (resultArray.length > 0 )
{ 
	return resultArray;
	
}else{
	return resultArray[{
					"PlateColor": "",
            		"PlateType": "",
            		"PlateSource": "",
            		"RTA_plate_CODE": "",
            		"RTA_CATegory": "",
            		"RTA_PLATE_SOURCE": ""
	}];
}
//
}
function getEtrafficCodes (plateItem){
	var resultArray=[];
 resultArray = parkingCodes.filter(function( obj ) 
			{
if(plateItem.plateSource == obj.PlateSource && plateItem.plateType == obj.PlateType && plateItem.plateColor == obj.PlateColor ){
	return obj;
	
}

			  
			});

if (resultArray.length > 0 )
{ 
	return resultArray;
	
}else{
	return resultArray[{
					"PlateColor": "",
            		"PlateType": "",
            		"PlateSource": "",
            		"RTA_plate_CODE": "",
            		"RTA_CATegory": "",
            		"RTA_PLATE_SOURCE": ""
	}];
}
//
}
function getSeasonalCardTypes(branchID, isEncryptResponse, encryptionPassword) {
	var bodyRequest = "<sch:getSeasonalCardTypesList>";
	if (branchID != undefined && branchID != null) {
		bodyRequest += "<branchID>" + branchID + "</branchID>";
	}
	bodyRequest += "</sch:getSeasonalCardTypesList>";
	var request = getRequestString(bodyRequest);

	var requestObj = buildBody([ request.toString() ], true);
	return invokeWebServiceString(requestObj, isEncryptResponse,
			encryptionPassword);

}
function validateSeasonalCardPlates(plateItem, isEncryptResponse,
		encryptionPassword) {
	var parkingCodes=getParkingCodes(plateItem);
	if(!isUndefinedOrNull(parkingCodes)){
	if(!isUndefinedOrNull(parkingCodes[0].PlateSource)){
		plateItem.emirate=parkingCodes[0].PlateSource;
	}
	if(!isUndefinedOrNull(parkingCodes[0].PlateType)){
		plateItem.plateCategory=parkingCodes[0].PlateType;
	}
	if(!isUndefinedOrNull(parkingCodes[0].PlateColor)){
		plateItem.plateCode=parkingCodes[0].PlateColor;
	}
	}
	var requestDate = new Date(Date.now());
	var requestDateFormated = requestDate.toISOString(); // Returns
	
		var bodyRequest='<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" ' 
				        + 'xmlns:int="http://www.rta.ae/schemas/SeasonalCardService_V3/Schema.xsd" >';
		bodyRequest +=  '<soapenv:Header>'
		+ '<wsse:Security soapenv:mustUnderstand="1" xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd" >'
		+ '<wsse:UsernameToken wsu:Id="UsernameToken-9">'
		+ '<wsse:Username>'
		+ username_tibco
		+ '</wsse:Username>'
		+ '<wsse:Password Type="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-username-token-profile-1.0#PasswordText" >'
		+ password_tibco
		+ '</wsse:Password>'
		+ '<wsse:Nonce EncodingType="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-soap-message-security-1.0#Base64Binary" >U+Skqf6XeOV1tUKPNuN3PA==</wsse:Nonce>'
		+ '<wsu:Created>'
		+ requestDateFormated
		+ '</wsu:Created>'
		+ '</wsse:UsernameToken>'
		+ '</wsse:Security>'
		+ '</soapenv:Header>';
		bodyRequest += '<soapenv:Body><int:validateSeasonalCard>';
		
		if (!isUndefinedOrNull(plateItem.forcefully)) {
			bodyRequest += '<etrafficForcefully>' + plateItem.forcefully + '</etrafficForcefully>';
		}
		bodyRequest += '<plateDetailsRequest><plateDetails>';
		if (!isUndefinedOrNull(plateItem.registrationNo)) {
			bodyRequest += '<registrationNo>' + plateItem.registrationNo + '</registrationNo>';
			
		}
		if (!isUndefinedOrNull(plateItem.ownerName)) {
			bodyRequest += '<ownerName>' + plateItem.ownerName + '</ownerName>';
		}
		 bodyRequest += '<emirate>' + plateItem.emirate + '</emirate>'
		 													  + '<plateCategory>' + plateItem.plateCategory + '</plateCategory>'
		 													  + '<plateCode>' + plateItem.plateCode + '</plateCode>'
		 													  + '<plateNumber>' + plateItem.plateNumber + '</plateNumber>';
		

		bodyRequest += "</plateDetails>";
		
		
		
		bodyRequest += '</plateDetailsRequest>' ;
		
	
	bodyRequest += '</int:validateSeasonalCard></soapenv:Body></soapenv:Envelope>';
	var requestObj = buildBody([ bodyRequest.toString() ], true);
	var validateResult = invokeWebServiceString(requestObj,
			isEncryptResponse, encryptionPassword);
	if(!isUndefinedOrNull(validateResult.Envelope.Body.Fault)){
		return validateResult={
			"Envelope": {
				"Body": {
					"validateSeasonalCardResponse": {
						"validateSeasonalCardReturn": {
							"Error":!isUndefinedOrNull(validateResult.Envelope.Body.Fault.faultstring) ? validateResult.Envelope.Body.Fault.faultstring : validateResult.Envelope.Body.Fault.detail.faultstring 
						}
					}
				}
			}
	};
	
	
}else{
	return validateResult;
}
}
//switch activated vehicle
function switchActivatedVehicle(switchActivatedVehicle, isEncryptResponse, encryptionPassword) {
	
	var requestDate = new Date(Date.now());
	var requestDateFormated = requestDate.toISOString(); // Returns
	
		var bodyRequest='<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" ' 
				        + 'xmlns:int="http://www.rta.ae/schemas/SeasonalCardService_V3/Schema.xsd" >';
		bodyRequest +=  '<soapenv:Header>'
		+ '<wsse:Security soapenv:mustUnderstand="1" xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd" >'
		+ '<wsse:UsernameToken wsu:Id="UsernameToken-9">'
		+ '<wsse:Username>'
		+ username_tibco
		+ '</wsse:Username>'
		+ '<wsse:Password Type="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-username-token-profile-1.0#PasswordText" >'
		+ password_tibco
		+ '</wsse:Password>'
		+ '<wsse:Nonce EncodingType="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-soap-message-security-1.0#Base64Binary" >U+Skqf6XeOV1tUKPNuN3PA==</wsse:Nonce>'
		+ '<wsu:Created>'
		+ requestDateFormated
		+ '</wsu:Created>'
		+ '</wsse:UsernameToken>'
		+ '</wsse:Security>'
		+ '</soapenv:Header>';
	 bodyRequest += '<soapenv:Body><int:switchActivatedVehicle>';
	if (switchActivatedVehicle != undefined && switchActivatedVehicle != null) {
		var parkingCodes=getParkingCodes(switchActivatedVehicle);
		if(!isUndefinedOrNull(parkingCodes)){
		if(!isUndefinedOrNull(parkingCodes[0].PlateSource)){
			switchActivatedVehicle.emirate=parkingCodes[0].PlateSource;
		}
		if(!isUndefinedOrNull(parkingCodes[0].PlateType)){
			switchActivatedVehicle.plateCategory=parkingCodes[0].PlateType;
		}
		if(!isUndefinedOrNull(parkingCodes[0].PlateColor)){
			switchActivatedVehicle.plateCode=parkingCodes[0].PlateColor;
		}
		}
		bodyRequest += '<SeasonalCardSwitchRequest>' +
						'<plateSource>' + switchActivatedVehicle.emirate + '</plateSource>' +
						'<plateType>' + switchActivatedVehicle.plateCategory + '</plateType>' +
						'<plateColor>' + switchActivatedVehicle.plateCode + '</plateColor>' +
						'<plateNumber>' + switchActivatedVehicle.plateNumber + '</plateNumber>' +
						'<trafficFileNumber>' + switchActivatedVehicle.trafficFileNumber + '</trafficFileNumber>' +
						'<seasonalCardNumber>' + switchActivatedVehicle.seasonalCardNumber + '</seasonalCardNumber>' +
						'</SeasonalCardSwitchRequest>';
	}
	bodyRequest += '</int:switchActivatedVehicle></soapenv:Body></soapenv:Envelope>';
	

	var requestObj = buildBody([ bodyRequest.toString() ], true);
	var result = invokeWebServiceString(requestObj, isEncryptResponse,
			encryptionPassword);
	
	var parkingCodes=getEtrafficCodes(result.Envelope.Body.switchActivatedVehicleResponse.SeasonalCardSwitchResponse);
	if(!isUndefinedOrNull(parkingCodes)){
	if(!isUndefinedOrNull(parkingCodes[0].RTA_PLATE_SOURCE)){
		result.Envelope.Body.switchActivatedVehicleResponse.SeasonalCardSwitchResponse.plateSource=parkingCodes[0].RTA_PLATE_SOURCE;
	}
	if(!isUndefinedOrNull(parkingCodes[0].RTA_CATegory)){
		result.Envelope.Body.switchActivatedVehicleResponse.SeasonalCardSwitchResponse.plateType=parkingCodes[0].RTA_CATegory;
	}
	if(!isUndefinedOrNull(parkingCodes[0].RTA_plate_CODE)){
		result.Envelope.Body.switchActivatedVehicleResponse.SeasonalCardSwitchResponse.plateColor=parkingCodes[0].RTA_plate_CODE;
	}
	}
	return result;
}

function getExpiredSeasonalCardDetails(cardDetails, isEncryptResponse, encryptionPassword) {
	var bodyRequest = "<ser:getExpiredSeasonalCardDetails>";
	if (cardDetails != undefined && cardDetails != null) {
		bodyRequest += "<getExpiredCardRequest>" +
						"<cardNo>" + cardDetails.carddNo + "</cardNo>" +
						"<branchID>" + cardDetails.branchId + "</branchID>" +
						"</getExpiredCardRequest>";
	}
	bodyRequest += "</ser:getExpiredSeasonalCardDetails>";
	var request = getRequestString(bodyRequest);

	var requestObj = buildBody([ request.toString() ], true);
	return invokeWebServiceString(requestObj, isEncryptResponse,
			encryptionPassword);

}
function getCardByTFNOrPlateDetails(seasonalCardDetails, isEncryptResponse, encryptionPassword) {
	var requestDate = new Date(Date.now());
	var requestDateFormated = requestDate.toISOString(); // Returns
	
		var bodyRequest='<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" ' 
				        + 'xmlns:int="http://www.rta.ae/schemas/SeasonalCardService_V3/Schema.xsd" >';
		bodyRequest +=  '<soapenv:Header>'
		+ '<wsse:Security soapenv:mustUnderstand="1" xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd" >'
		+ '<wsse:UsernameToken wsu:Id="UsernameToken-9">'
		+ '<wsse:Username>'
		+ username_tibco
		+ '</wsse:Username>'
		+ '<wsse:Password Type="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-username-token-profile-1.0#PasswordText" >'
		+ password_tibco
		+ '</wsse:Password>'
		+ '<wsse:Nonce EncodingType="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-soap-message-security-1.0#Base64Binary" >U+Skqf6XeOV1tUKPNuN3PA==</wsse:Nonce>'
		+ '<wsu:Created>'
		+ requestDateFormated
		+ '</wsu:Created>'
		+ '</wsse:UsernameToken>'
		+ '</wsse:Security>'
		+ '</soapenv:Header>';
	 bodyRequest += '<soapenv:Body><int:getCardByTFNOrPlateDetails>';
	if (seasonalCardDetails.trafficFileNumber != undefined && seasonalCardDetails.trafficFileNumber != null) {
		/*var parkingCodes=getParkingCodes(seasonalCardDetails);
		if(!isUndefinedOrNull(parkingCodes)){
		if(!isUndefinedOrNull(parkingCodes[0].PlateSource)){
			seasonalCardDetails.emirate=parkingCodes[0].PlateSource;
		}
		if(!isUndefinedOrNull(parkingCodes[0].PlateType)){
			seasonalCardDetails.plateCategory=parkingCodes[0].PlateType;
		}
		if(!isUndefinedOrNull(parkingCodes[0].PlateColor)){
			seasonalCardDetails.plateCode=parkingCodes[0].PlateColor;
		}
		}*/
		bodyRequest += '<seasonalCardRequest>' +
						//'<plateSource>' + seasonalCardDetails.emirate + '</plateSource>' +
						//'<plateType>' + seasonalCardDetails.plateCategory + '</plateType>' +
						//'<plateColor>' + seasonalCardDetails.plateCode + '</plateColor>' +
						//'<plateNumber>' + seasonalCardDetails.plateNumber + '</plateNumber>' +
						'<trafficFileNumber>' + seasonalCardDetails.trafficFileNumber + '</trafficFileNumber>' +
						//'<seasonalCardNumber>' + seasonalCardDetails.seasonalCardNumber + '</seasonalCardNumber>' +
						'</seasonalCardRequest>';
		bodyRequest += '</int:getCardByTFNOrPlateDetails></soapenv:Body></soapenv:Envelope>';
		
		var requestObj = buildBody([ bodyRequest.toString() ], true);
		var response = invokeWebServiceString(requestObj, isEncryptResponse,
				encryptionPassword);
		if(! isUndefinedOrNull(response.Envelope.Body.getCardByTFNOrPlateDetailsResponse) && (response.Envelope.Body.getCardByTFNOrPlateDetailsResponse.SeasonalCardsListResponse) != undefined && 
				(response.Envelope.Body.getCardByTFNOrPlateDetailsResponse.SeasonalCardsListResponse) != null ){
			
			if(	! (response.Envelope.Body.getCardByTFNOrPlateDetailsResponse.SeasonalCardsListResponse).constructor === Array || (response.Envelope.Body.getCardByTFNOrPlateDetailsResponse.SeasonalCardsListResponse).length == undefined){
				response.Envelope.Body.getCardByTFNOrPlateDetailsResponse.SeasonalCardsListResponse=[response.Envelope.Body.getCardByTFNOrPlateDetailsResponse.SeasonalCardsListResponse];
			}
			var cardsList = response.Envelope.Body.getCardByTFNOrPlateDetailsResponse.SeasonalCardsListResponse;
			//var vehicless=[];
			for( var i=0 ; i< cardsList.length ; i++ ){
					if(! (cardsList[i].seasonalCard.vehicles.vehicle).constructor === Array  || (cardsList[i].seasonalCard.vehicles.vehicle).length == undefined){
					cardsList[i].seasonalCard.vehicles.vehicle=[cardsList[i].seasonalCard.vehicles.vehicle];
					}
				//var vehiclesList=cardsList[i].seasonalCard.vehicles;
				for(var j=0 ; j< (cardsList[i].seasonalCard.vehicles.vehicle).length ; j++ ){
					
					//var vehicle = (cardsList[i].seasonalCard.vehicles)[j].vehicle;
					
					var parkingCodes=getEtrafficCodes((cardsList[i].seasonalCard.vehicles.vehicle)[j]);
					if(!isUndefinedOrNull(parkingCodes)){
					if(!isUndefinedOrNull(parkingCodes[0].RTA_PLATE_SOURCE)){
						((cardsList[i].seasonalCard.vehicles.vehicle)[j]).plateSource=parkingCodes[0].RTA_PLATE_SOURCE;
					}
					if(!isUndefinedOrNull(parkingCodes[0].RTA_CATegory)){
						((cardsList[i].seasonalCard.vehicles.vehicle)[j]).plateType=parkingCodes[0].RTA_CATegory;
					}
					if(!isUndefinedOrNull(parkingCodes[0].RTA_plate_CODE)){
						((cardsList[i].seasonalCard.vehicles.vehicle)[j]).plateColor=parkingCodes[0].RTA_plate_CODE;
					}
					}
					
				}
				
				
			}
			
			
		}
	}else{
		var response={
				"Envelope": {
					"Body": {
						"getCardByTFNOrPlateDetailsResponse": ""
					}
				}
		};
		
	}
	
	

	

return  response;

}

function initiatePayment( isEncryptResponse, encryptionPassword) {
	var bodyRequest = "<sch:initiatePayment>" + "</sch:initiatePayment>";
	
	
	var request = getRequestString(bodyRequest);

	var requestObj = buildBody([ request.toString() ], true);
	return invokeWebServiceString(requestObj, isEncryptResponse,
			encryptionPassword);

}

function certifyPayment(cardRequest,paymentRequest, isEncryptResponse, encryptionPassword) {
	var bodyRequest="";
	 bodyRequest += "<sch:certifyPayment>";
	if (paymentRequest != undefined && paymentRequest != null) {
		bodyRequest += "<paymentRequest>" +
						"<paymentToken>" + paymentRequest.paymentToken + "</paymentToken>" +
						"<transactionId>" + paymentRequest.transactionId + "</transactionId>" +
						"<spCode>" + paymentRequest.spCode + "</spCode>" +
						"<serviceCode>" + paymentRequest.serviceCode + "</serviceCode>" +
						"</paymentRequest>";
	}
	bodyRequest += "</sch:certifyPayment>";
	var request = getRequestString(bodyRequest);

	var requestObj = buildBody([ request.toString() ], true);
	var certifyResponse= invokeWebServiceString(requestObj, isEncryptResponse,
			encryptionPassword);
  // if transaction certified call issueSeasonalCard operation
	if(!isUndefinedOrNull(certifyResponse.Envelope.Body.certifyPaymentResponse)&& certifyResponse.Envelope.Body.certifyPaymentResponse.PaymentResponse.status == "0"){
		return issueSeasonalCard(cardRequest,paymentRequest,isEncryptResponse,
				encryptionPassword);
	}else{
		return certifyResponse;
	}
	
}
function androidFinalCertifyPayment(cardRequest,paymentRequest, isEncryptResponse, encryptionPassword) {
	var bodyRequest="";
	 bodyRequest += "<sch:certifyPayment>";
	if (paymentRequest != undefined && paymentRequest != null) {
		bodyRequest += "<paymentRequest>" +
						"<paymentToken>" + paymentRequest.paymentToken + "</paymentToken>" +
						"<transactionId>" + paymentRequest.transactionId + "</transactionId>" +
						"<spCode>" + paymentRequest.spCode + "</spCode>" +
						"<serviceCode>" + paymentRequest.serviceCode + "</serviceCode>" +
						"</paymentRequest>";
	}
	bodyRequest += "</sch:certifyPayment>";
	var request = getRequestString(bodyRequest);

	var requestObj = buildBody([ request.toString() ], true);
	var certifyResponse= invokeWebServiceString(requestObj, isEncryptResponse,
			encryptionPassword);
  /* if transaction certified call issueSeasonalCard operation
	if(!isUndefinedOrNull(certifyResponse.Envelope.Body.certifyPaymentResponse)&& certifyResponse.Envelope.Body.certifyPaymentResponse.PaymentResponse.status == "0"){
		return issueSeasonalCard(cardRequest,paymentRequest,isEncryptResponse,
				encryptionPassword);
	}else{
		return certifyResponse;
	}
	*/
	return certifyResponse;
}
function issueSeasonalCard(cardRequest,paymentRequest, isEncryptResponse,
		encryptionPassword) {
	
	var requestDate = new Date(Date.now());
	var requestDateFormated = requestDate.toISOString(); // Returns
	var bodyRequest="";
		 bodyRequest +='<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" ' 
				        + 'xmlns:int="http://www.rta.ae/schemas/SeasonalCardService_V3/Schema.xsd" >';
		bodyRequest +=  '<soapenv:Header>'
		+ '<wsse:Security soapenv:mustUnderstand="1" xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd" >'
		+ '<wsse:UsernameToken wsu:Id="UsernameToken-9">'
		+ '<wsse:Username>'
		+ username_tibco
		+ '</wsse:Username>'
		+ '<wsse:Password Type="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-username-token-profile-1.0#PasswordText" >'
		+ password_tibco
		+ '</wsse:Password>'
		+ '<wsse:Nonce EncodingType="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-soap-message-security-1.0#Base64Binary" >U+Skqf6XeOV1tUKPNuN3PA==</wsse:Nonce>'
		+ '<wsu:Created>'
		+ requestDateFormated
		+ '</wsu:Created>'
		+ '</wsse:UsernameToken>'
		+ '</wsse:Security>'
		+ '</soapenv:Header>';
	if (!isUndefinedOrNull(paymentRequest)) {
		 bodyRequest +='<soapenv:Body><int:issueSeasonalCard>' + '<paymentRequest>';
				bodyRequest += '<paymentToken>' + paymentRequest.paymentToken +  '</paymentToken>' +
								'<transactionId>' + paymentRequest.transactionId +  '</transactionId>' +
								'<spCode>' + paymentRequest.spCode +  '</spCode>' +
								'<serviceCode>' + paymentRequest.serviceCode +  '</serviceCode>' + '</paymentRequest>' + '<cardRequest>' +
								'<applicantName>' + paymentRequest.applicantName +  '</applicantName>' +
								'<applicantContactNumber>' + paymentRequest.applicantContactNumber +  '</applicantContactNumber>' +
								'<paymentReceiptNo>' + paymentRequest.paymentReceiptNo +  '</paymentReceiptNo>' +
								'<paymentReceiptDate>' + paymentRequest.paymentReceiptDate +  '</paymentReceiptDate>' +
								'<customerExpectedDeliveryDate>' + paymentRequest.customerExpectedDeliveryDate +  '</customerExpectedDeliveryDate>' +
								'<smsLang>' + paymentRequest.smsLang +  '</smsLang>' + '<newCardsRequest>';
	}
	if (!isUndefinedOrNull(cardRequest)  && ! cardRequest instanceof Array) {
		cardRequest= [cardRequest];
	}
	for(var j=0; j< cardRequest.length ;j++){
		var cardDetails=cardRequest[j];
		bodyRequest +='<newCardRequest>'+
						'<cardID></cardID>'+
						'<oldCardNo></oldCardNo>'+
						'<cardType>' + cardDetails.cardType +  '</cardType>' +
						'<cardDuration>' + cardDetails.cardDuration +  '</cardDuration>' +
						'<cardFees>' + cardDetails.cardFees +  '</cardFees>' +
						'<cardStartDate>' + cardDetails.cardStartDate +  '</cardStartDate>' +
						'<cardExpiryDate>' + cardDetails.cardExpiryDate +  '</cardExpiryDate>' +
						'<platesDetails>' ;
						
		
		
		if (!isUndefinedOrNull(cardDetails.platesData) && !cardDetails.platesData instanceof Array) {
			cardDetails.platesData = [ cardData.platesData ];
		}
		
	var i = 0;
	var platesData=cardDetails.platesData;
	platesLength = platesData.length, isValid = true, serviceParams = {},
	response = [];
	for (i; i < platesLength; i++) {
		var plateItem = platesData[i];
		var parkingCodes=getParkingCodes(plateItem);
		if(!isUndefinedOrNull(parkingCodes)){
		if(!isUndefinedOrNull(parkingCodes[0].PlateSource)){
			plateItem.emirate=parkingCodes[0].PlateSource;
		}
		if(!isUndefinedOrNull(parkingCodes[0].PlateType)){
			plateItem.plateCategory=parkingCodes[0].PlateType;
		}
		if(!isUndefinedOrNull(parkingCodes[0].PlateColor)){
			plateItem.plateCode=parkingCodes[0].PlateColor;
		}
		}
		 bodyRequest += '<plateDetails>'+ 
		 			'<registrationNo>' + plateItem.registrationNo + '</registrationNo>' +
		 			'<ownerName>' + plateItem.ownerName + '</ownerName>' +
		 			'<emirate>' + plateItem.emirate + '</emirate>' +
		 			'<plateCategory>' + plateItem.plateCategory + '</plateCategory>'+
		 			'<plateCode>' + plateItem.plateCode + '</plateCode>'+
		 			'<plateNumber>' + plateItem.plateNumber + '</plateNumber>'+
		 			'</plateDetails>';
		
		
	}
	
	bodyRequest += '</platesDetails>' +
					'</newCardRequest>';
					
	
	}
	
	//
	bodyRequest += '</newCardsRequest>' + '<paymentDetails>';
	for(var j=0; j< cardRequest.length ;j++){
		var cardData=cardRequest[j];
		bodyRequest +='<paymentDetails>' +
						'<feeCode>10093</feeCode>' +
						'<beneficiaryCode></beneficiaryCode>' +
						'<arabicDescription>' + cardData.arabicDescription + '</arabicDescription>' +
						'<englishDescription>' + cardData.englishDescription + '</englishDescription>' +
						'<amount>' + cardData.cardFees + '</amount>' +
						'</paymentDetails>';
	}
	bodyRequest +='</paymentDetails>' +
					'<branchID>818</branchID>' +
					'</cardRequest>' +
					'</int:issueSeasonalCard></soapenv:Body></soapenv:Envelope>' ;
	
	
	MFP.Logger.warn("beforCalling buildBody | " + bodyRequest)
	var requestObj = buildBody([ bodyRequest.toString() ], true);
	MFP.Logger.warn("afterCalling buildBody | " + requestObj)
	var issueSeasonalCardResult= invokeWebServiceString(requestObj,
			isEncryptResponse, encryptionPassword);
	
	MFP.Logger.warn("issueSeasonalCardResult result | " + issueSeasonalCardResult)
	return issueSeasonalCardResult;
	
}
function getRequestString(bodyString) {
	var requestDate = new Date(Date.now());
	var requestDateFormated = requestDate.toISOString(); // Returns
	// 2011-10-05T14:48:00.000Z
	var request = "<soapenv:Envelope xmlns:sch='http://www.rta.ae/schemas/SeasonalCardService_V3/Schema.xsd' xmlns:soapenv='http://schemas.xmlsoap.org/soap/envelope/'>"
		+ "<soapenv:Header>"
		+ "<wsse:Security soapenv:mustUnderstand='1' xmlns:wsse='http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd' xmlns:wsu='http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd'>"
		+ "<wsse:UsernameToken wsu:Id='UsernameToken-9'>"
		+ "<wsse:Username>"
		+ username_tibco
		+ "</wsse:Username>"
		+ "<wsse:Password Type='http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-username-token-profile-1.0#PasswordText'>"
		+ password_tibco
		+ "</wsse:Password>"
		+ "<wsse:Nonce EncodingType='http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-soap-message-security-1.0#Base64Binary'>U+Skqf6XeOV1tUKPNuN3PA==</wsse:Nonce>"
		+ "<wsu:Created>"
		+ requestDateFormated
		+ "</wsu:Created>"
		+ "</wsse:UsernameToken>"
		+ "</wsse:Security>"
		+ "</soapenv:Header>"
		+ "<soapenv:Body>"
		+ bodyString
		+ "</soapenv:Body>" + "</soapenv:Envelope>";
	return request;
}
function Log(text) {
	try {
		IsDebugging = MFP.Server.getPropertyValue("drivers_and_vehicles_is_debugging");
	} catch (e) {
		IsDebugging = "false";
	}
	// MFP.Logger.warn(""+IsDebugging);
	if (IsDebugging == "true")
		MFP.Logger.warn(text);
	else
		MFP.Logger.debug(text);
}
function invokeWebServiceString(request, isEncryptResponse, encryptionPassword) {
	MFP.Logger.warn(request);
	request=JSON.parse(request);
	var input = {
			method : 'post',
			headers : {
				"SOAPAction" : ""
			},
			returnedContentType : 'HTML',
			path : '/seasonalCardService_V3',
			body : {
				content : JSON.stringify(request),
				contentType : 'text/xml; charset=utf-8'
			}
	};

	var webServiceResult = MFP.Server.invokeHttp(input);
	MFP.Logger.warn(webServiceResult);
	MFP.Logger.warn(JSON.stringify(webServiceResult));
	if (isEncryptResponse != undefined && isEncryptResponse == true) {
		var responseString = JSON.stringify(webServiceResult);
		var invocationData = {
				adapter : 'drivers_and_vehciles_utilitiesAdapter',
				procedure : 'encryptData',
				parameters : [ responseString, encryptionPassword ]
		};
		webServiceResult = MFP.Server.invokeProcedure(invocationData);
	}
	var invocationData = {
			adapter : 'drivers_and_vehciles_utilitiesAdapter',
			procedure : 'deleteCredientails',
			parameters : [webServiceResult]
	};
	return MFP.Server.invokeProcedure(invocationData);
}
function invokeWebService(body, servicePath, headers, isEncryptResponse,
		encryptionPassword) {
	var startTime = new Date().getTime();
	if (!headers)
		headers = {
			"SOAPAction" : ""
	};
	else
		headers["SOAPAction"] = "";
	var input = {
			method : 'post',
			returnedContentType : 'HTML',
			path : servicePath,
			body : {
				content : body.toString(),
				contentType : 'text/xml; charset=utf-8'
			}
	};

	// Adding custom HTTP headers if they were provided as parameter to the
	// procedure call
	headers && (input['headers'] = headers);

	var webServiceResult = MFP.Server.invokeHttp(input);
	if (isEncryptResponse != undefined && isEncryptResponse == true) {
		var responseString = JSON.stringify(webServiceResult);
		var invocationData = {
				adapter : 'drivers_and_vehciles_utilitiesAdapter',
				procedure : 'encryptData',
				parameters : [ responseString, encryptionPassword ]
		};
		webServiceResult = MFP.Server.invokeProcedure(invocationData);
	}

	var endTime = new Date().getTime();
	// Log("time for "+ servicePath + " is " + (endTime - startTime) + " ms");
	webServiceResult.requestString = body.toString();
	var invocationData = {
			adapter : 'drivers_and_vehciles_utilitiesAdapter',
			procedure : 'deleteCredientails',
			parameters : [webServiceResult]
	};
	return MFP.Server.invokeProcedure(invocationData);
}
function isUndefinedOrNull(obj) {
	if (obj == undefined || obj == null) {
		return true;
	}
	return false;
}
function buildBody(parameters, isStatic) {
	var request = "";

	if (isStatic == true) {
		request = MFP.Server.invokeProcedure({
			adapter : 'drivers_and_vehciles_utilitiesAdapter',
			procedure : 'buildBodyFromStaticRequest',
			parameters : parameters,

		});
	} else {
		request = MFP.Server.invokeProcedure({
			adapter : 'drivers_and_vehciles_utilitiesAdapter',
			procedure : 'buildBody',
			parameters : parameters
		});
	}
	try{
	MFP.Logger.info("BuildBodyResponse:" + JSON.stringify(request));
	MFP.Logger.info("BuildBodyResponse:" + JSON.stringify(request.body));
	}catch(e){}
	return request.body;
}

function getParameterValueFromCData(cData, parameterName) {
	var paramterValue = null;
	try {
		var searchString = "<" + parameterName + ">";
		var str = cData;
		var startPos = str.indexOf(searchString);
		if (startPos >= 0) {
			str = str.substring(startPos + searchString.length);
			var endPos = str.indexOf("</" + parameterName + ">");
			if (endPos >= 0)
				paramterValue = str.substring(0, endPos);
		}
	} catch (ex) {
	}
	return paramterValue;
}
